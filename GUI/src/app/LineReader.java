package app; import java.util.Scanner; import java.time.LocalDate; import java.time.format.DateTimeFormatter; import java.time.format.DateTimeParseException; public class LineReader { // Returns 4 values: // [0] = DB_URL // [1] = DB_USER // [2] = DB_PASSWORD // [3] = SESSION_DATE ("" if invalid or blank) public static String[] getCredentials() { Scanner scanner = new Scanner(System.in); String[] inputs = new String[4]; System.out.println("=== POS System Setup ==="); System.out.println("Enter the following values, each on a new line:"); System.out.println("1. Database URL"); System.out.println("2. Database Username"); System.out.println("3. Database Password"); System.out.println("4. Session Date (YYYY-MM-DD, YYYY/MM/DD, or YYYY MM DD) -- Press Enter to default to current date"); // Read credentials for (int i = 0; i < 3; i++) { inputs[i] = scanner.nextLine().trim(); } // Read and validate date input String dateInput = scanner.nextLine().trim(); if (dateInput.isEmpty()) { inputs[3] = ""; System.out.println("No date entered -- default date will be used."); } else { // Try both allowed formats DateTimeFormatter[] acceptedFormats = new DateTimeFormatter[] { DateTimeFormatter.ofPattern("yyyy MM dd"), DateTimeFormatter.ofPattern("yyyy/MM/dd"), DateTimeFormatter.ofPattern("yyyy-MM-dd") }; boolean valid = false; for (DateTimeFormatter fmt : acceptedFormats) { try { LocalDate date = LocalDate.parse(dateInput, fmt); inputs[3] = date.format(DateTimeFormatter.ISO_LOCAL_DATE); System.out.println("Session date set to: " + inputs[3]); valid = true; break; } catch (DateTimeParseException ignored) { // Try the next format } } // If none matched, fallback to empty if (!valid) { inputs[3] = ""; System.out.println("Invalid date format -- default date will be used."); } } return inputs; } }